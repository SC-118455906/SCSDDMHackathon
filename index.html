<html>
	<!--this code was taken and adapted from leafletjs.com-->
	<head>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
		integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
		crossorigin=""/>
		
		<!-- adding in the style sheet from the leaflet webpage-->
		<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
		integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
		crossorigin=""></script>

		
		<style>
		/*#lockdownMap{
			height: 1800px;
		}*/

		body {
    	padding: 0;
    	margin: 0;
		}
		
		html, body, #lockdownMap {
		height: 100%;
		width: 100vw;
		} 
		</style>

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />	

	</head>
	
	<body>
		<div id="lockdownMap"></div>
		<script>
		//Creating variable to equal layer
		var layer1;
		//creating the map and setting the default view and zoom
		var mymap = L.map('lockdownMap', {layers: layer1}).setView([0, 0], 3);	
		
		//crediting the openstreetmap attribution
		const attribution = '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMaps</a> contributors';
		
		//getting the tiles from OpenStreetMap
		const tileUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
			
		//applying the tiles
		const tiles = L.tileLayer(tileUrl, { attribution });
		
		tiles.addTo(mymap);
		
		//finding the users current position
		mymap.locate({setView: true, maxZoom: 16});	

		function onLocationFound(e) {
			//Creating circle of 5km radius
			var circle1 = L.circle(e.latlng, {
   		 	color: 'red',
   			fillColor: '#f03',
    		fillOpacity: 0.5,
    		radius: 5000
			});

			//Creeating Circle of 10km radius
			var circle2 = L.circle(e.latlng, {
   		 	color: 'green',
   			fillColor: 'green',
    		fillOpacity: 0.5,
    		radius: 10000
			});

			//Creating circle of 20km radius
			var circle3 = L.circle(e.latlng, {
   		 	color: 'blue',
   			fillColor: 'blue',
    		fillOpacity: 0.5,
    		radius: 20000
			
			});

			//Letting circles equal to a baselayer
			var overlaymap = {
				"Level 5": circle1,
				"Level 4": circle2,
				"Level 3": circle3
			}
			//Adding the overlay layer to the map
			L.control.layers(overlaymap).addTo(mymap);
			
			var radius = e.accuracy;

			L.marker(e.latlng).addTo(mymap)
				.bindPopup("You are within " + radius + " meters from this point").openPopup();
				color: 'green'
             //blarney
		    L.marker([51.9335568, -8.5615883]).addTo(mymap)
			    .bindPopup("Tung Sing Chinese Restaurant <br> Takeaway Food");

			L.marker([51.9335904, -8.5615502]).addTo(mymap)
			    .bindPopup("Apache Pizza <br> Takeaway Food");

			L.marker([51.933678, -8.570304]).addTo(mymap)
			    .bindPopup("Golden Panda Chinese Restaurant <br> Takeaway Food");

				L.marker([51.9330461, -8.56722]).addTo(mymap)
			    .bindPopup("Lantern House Chinese Restaurant <br> Takeaway Food");

				L.marker([51.9329931, -8.5673075]).addTo(mymap)
			    .bindPopup("The Square Table Restaurant <br> Takeaway Food");
				
				L.marker([51.944139, -8.565513]).addTo(mymap)
			    .bindPopup("River Martin Trail <br> Public Walk");

				L.marker([51.931350, -8.568495]).addTo(mymap)
			    .bindPopup("Blarney Casstle and Gardens <br> Walking Trails");

				L.marker([51.933216, -8.567425]).addTo(mymap)
			    .bindPopup(" Eat in It Restaurant <br> Takeaway Food");

				L.marker([51.929160, -8.554959]).addTo(mymap)
			    .bindPopup("Clogheenmilcon Walk <br> Walking Trail");

				L.marker([51.933697, -8.570133]).addTo(mymap)
			    .bindPopup(" Blarney Post Office ");

				//bishopstown
				L.marker([51.886003, -8.523152]).addTo(mymap)
				.bindPopup("Executive Choice Chauffeurs");

				L.marker([51.880603, -8.529058]).addTo(mymap)
				.bindPopup("Seanie");

				L.marker([51.884201, -8.531267]).addTo(mymap)
				.bindPopup("Finown");

				L.marker([51.880695, -8.535461]).addTo(mymap)
				.bindPopup("Curaheen Public Walk <br> Walking Trail");

				L.marker([51.879448, -8.521336]).addTo(mymap)
				.bindPopup("Dinos Bishopstown <br> Takeaway Food");

				L.marker([51.878947, -8.521585]).addTo(mymap)
				.bindPopup("Chopsticks Chinese <br> Takeaway Food");

				L.marker([51.879321, -8.519312]).addTo(mymap)
				.bindPopup("A.J O'Brien Solicitors");

				L.marker([51.881009, -8.511451]).addTo(mymap)
				.bindPopup("Abrakebabra <br> Takeaway Food");

				L.marker([51.890006, -8.534449]).addTo(mymap)
				.bindPopup("Doreen's Bakery");

				L.marker([51.888574, -8.534658]).addTo(mymap)
				.bindPopup("Apache Pizza <br> Takeawy Food");

				L.marker([51.873805, -8.520598]).addTo(mymap)
				.bindPopup("Dunnes Stores <br> Supermarket");

				L.marker([51.879915, -8.507491]).addTo(mymap)
				.bindPopup("Tesco <br> Supermarket");

				L.marker([51.894147, -8.516753]).addTo(mymap)
				.bindPopup("Lee Fields <br> Walking Trail");

				L.marker([51.889162, -8.506419]).addTo(mymap)
				.bindPopup("Ramen <br> Takeaway Food");

				L.marker([51.889524, -8.506114]).addTo(mymap)
				.bindPopup("Tesco Express <br> Supermarket");
                //UCC/Cork City
				L.marker([51.891780, -8.493687]).addTo(mymap)
				.bindPopup("Daybreak <br> Supermarket");

				L.marker([51.897601, -8.480047]).addTo(mymap)
				.bindPopup("Domino's Pizza <br> Takeaway Food");

				L.marker([51.897784, -8.477763]).addTo(mymap)
				.bindPopup("The Spitjack <br> Takeaway Food");

				L.marker([51.896919, -8.475221]).addTo(mymap)
				.bindPopup("HillBillys <br> Takeaway Food");

				L.marker([51.893790, -8.483955]).addTo(mymap)
				.bindPopup("Joes and Bros <br> Takeaway Food");

				L.marker([51.892345, -8.483517]).addTo(mymap)
				.bindPopup("Jackie Lennox <br> Takeaway");

				L.marker([51.892828, -8.479802]).addTo(mymap)
				.bindPopup("La Tana Pizzeria <br> Takeaway");
				
				L.marker([51.899252, -8.474577]).addTo(mymap)
				.bindPopup("Burritos and Blues <br> Takeaway");
				
				L.marker([51.898358, -8.470602]).addTo(mymap)
				.bindPopup("Boojum <br> Takeaway");

				L.marker([51.897878, -8.470727]).addTo(mymap)
				.bindPopup("Butler's Chocolate Cafe <br> Takeaway");

				L.marker([51.897519, -8.472490]).addTo(mymap)
				.bindPopup("Dolce Bun House <br> Takeaway");

				L.marker([51.898522, -8.470119]).addTo(mymap)
				.bindPopup("Scoozis <br> Takeaway");

				L.marker([51.898548, -8.470681]).addTo(mymap)
				.bindPopup("McDonald's <br> Takeaway");

				L.marker([51.899533, -8.470494]).addTo(mymap)
				.bindPopup("Centra <br> Supermarket");

				L.marker([51.897688, -8.474956]).addTo(mymap)
				.bindPopup("The English Market");

				L.marker([51.900874, -8.479250]).addTo(mymap)
				.bindPopup("Supermacs <br> Takeaway");
                //blackpool
				L.marker([51.911371, -8.471851]).addTo(mymap)
				.bindPopup("Toddlers Playground");

				L.marker([51.911646, -8.473561]).addTo(mymap)
				.bindPopup("Mahi Tandoori <br> Takeaway");

				L.marker([51.913766, -8.472397]).addTo(mymap)
				.bindPopup("Dunnes Stores");

				L.marker([51.916879, -8.473191]).addTo(mymap)
				.bindPopup("Roosters Piri Piri <br> Takeaway");

				L.marker([51.917133, -8.471997]).addTo(mymap)
				.bindPopup("Aldi");

				L.marker([51.916737, -8.471699]).addTo(mymap)
				.bindPopup("Woodies <br> Hardware Store");

				L.marker([51.915516, -8.473873]).addTo(mymap)
				.bindPopup("Dinos <br> Takeaway");

				L.marker([51.915666, -8.469912]).addTo(mymap)
				.bindPopup("Dominos Pizza <br> Takeaway");
				//ballincollig

			L.marker([51.888299, -8.595868])
			.bindPopup("Tesco Superstore ").addTo(mymap);

			L.marker([51.887806, -8.589710])
			.bindPopup("Quish's SuperValu Ballincollig").addTo(mymap);

			L.marker([51.888690, -8.585901]).bindPopup("Aldi Ballincollig").addTo(mymap);
			L.marker([51.889297, -8.585491]).bindPopup("McDonald's Ballincollig").addTo(mymap);
			L.marker([51.887622, -8.587540]).bindPopup("Four Star Pizza Ballincollig").addTo(mymap);
			L.marker([51.887617, -8.588530]).bindPopup("Kanok Thai Ballincollig").addTo(mymap);
			L.marker([51.888882, -8.592854]).bindPopup("Dino's Takeaway Ballincollig").addTo(mymap);
			L.marker([51.888169, -8.609855]).bindPopup("Lidl Ballincollig").addTo(mymap);
			L.marker([51.886282, -8.589077]).bindPopup("Mr. Price Ballincollig").addTo(mymap);
			L.marker([51.888966, -8.575725]).bindPopup("Costcutter Ballincollig").addTo(mymap);
			L.marker([51.887842, -8.588820]).bindPopup("An Post Ballincollig").addTo(mymap);

			//douglas

		 L.marker([51.877611, -8.436677]).addTo(mymap)
		   .bindPopup("KC & Son & Sons <br> Takeaway");

		   L.marker([51.874671, -8.437836]).addTo(mymap)
		   .bindPopup("Douglas Village Playground");

		   L.marker([51.877522, -8.434716]).addTo(mymap)
		   .bindPopup("Ramen <br> Takeaway");

		   L.marker([51.878110, -8.433438]).addTo(mymap)
		   .bindPopup("McDonald's <br> Takeaway");

		   L.marker([51.878935, -8.433695]).addTo(mymap)
		   .bindPopup("KFC <br> Takeaway");

		   L.marker([51.878808, -8.431216]).addTo(mymap)
		   .bindPopup("Dunnes Stores");


			


			

			
		}

		mymap.on('locationfound', onLocationFound);

		function onLocationError(e) {
    		alert(e.message);
		}

		mymap.on('locationerror', onLocationError);

		</script>
	</body>
</html>